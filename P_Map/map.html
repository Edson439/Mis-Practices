<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Direction Game</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
    }

    #game {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    #map {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }
    .icon {
      width: 80px;
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1;
      cursor: grab;
    }
    .pin {
      width: 40px;
      position: absolute;
      z-index: 999;
      cursor: grab;
    }
	#resetBtn {
	  position: fixed;        /* ← esto lo posiciona sobre la pantalla */
	  top: 20px;           /* ← lo baja desde el borde inferior */
	  right: 15px;            /* ← lo pega al borde derecho */
	  z-index: 1001;          /* ← lo coloca encima de todo */
	  background: #1a3473;
	  color: white;
	  border: none;
	  padding: 10px 40px;
	  border-radius: 6px;
	  font-size: 18px;
	  cursor: pointer;
	}
	#resetBtn:hover  {
		background-color: #2955a5;
		transform: scale(1.05); /* Aumenta el tamaño un 5% */
	}
  </style>
</head>
<body>

<div id="game">
  <img id="map" src="mapa/img/Mapa.png" alt="City Map">

  <img src="mapa/img/H1.png" class="icon" draggable="true" style="left: 550px;">
  <img src="mapa/img/H2.png" class="icon" draggable="true" style="left: 100px;">
  <img src="mapa/img/H3.png" class="icon" draggable="true" style="left: 190px;">
  <img src="mapa/img/H4.png" class="icon" draggable="true" style="left: 280px;">
  <img src="mapa/img/H5.png" class="icon" draggable="true" style="left: 370px;">
  <img src="mapa/img/H6.png" class="icon" draggable="true" style="left: 460px;">
  <img src="mapa/img/H7.png" class="icon" draggable="true" style="left: 100px; top: 94.5px;">
  <img src="mapa/img/H8.png" class="icon" draggable="true" style="left: 190px; top: 104.5px;">
  <img src="mapa/img/H9.png" class="icon" draggable="true" style="left: 280px; top: 94.5px;">
  <img src="mapa/img/H10.png" class="icon" draggable="true" style="left: 370px; top: 84.5px;">
  <img src="mapa/img/H11.png" class="icon" draggable="true" style="left: 460px; top: 94.5px;">
  <img src="mapa/img/H12.png" class="icon" draggable="true" style="left: 7px; top: 25px;">
  <img src="mapa/img/pin.png" class="icon pin" draggable="true" id="pin" style="left: 569px; top: 73px;">
</div>

	<button id="resetBtn">
	  <i class="fas fa-rotate-left"></i>
	</button>
<script>
    // --- Cargar los audios ---
    const adhesiveSounds = [
        new Audio('assets/audios/Adhesive1.mp3'),
        new Audio('assets/audios/Adhesive2.mp3'),
        new Audio('assets/audios/Adhesive3.mp3')
    ];
    const glueSounds = [
        new Audio('assets/audios/Glue1.mp3'),
        new Audio('assets/audios/Glue2.mp3'),
        new Audio('assets/audios/Glue3.mp3')
    ];
    const resetSound = new Audio('assets/audios/Res.wav');

    // Función para reproducir un sonido y reiniciarlo
    const playSound = (audioElement) => {
        audioElement.pause();
        audioElement.currentTime = 0;
        audioElement.play().catch(error => {
            console.error("Autoplay prevented:", error);
        });
    };

    let dragged;
    document.querySelectorAll('.icon').forEach(icon => {
        icon.addEventListener('dragstart', (e) => {
            dragged = e.target;
            // Reproduce un sonido de inicio aleatorio
            const randomAdhesiveSound = adhesiveSounds[Math.floor(Math.random() * adhesiveSounds.length)];
            playSound(randomAdhesiveSound);
        });
    });

    const game = document.getElementById('game');
    game.addEventListener('dragover', (e) => {
        e.preventDefault();
    });

    game.addEventListener('drop', (e) => {
        if (dragged) {
            dragged.style.left = `${e.clientX - dragged.offsetWidth / 2}px`;
            dragged.style.top = `${e.clientY - dragged.offsetHeight / 2}px`;

            // Reproduce un sonido de soltar aleatorio
            const randomGlueSound = glueSounds[Math.floor(Math.random() * glueSounds.length)];
            playSound(randomGlueSound);
        }
    });

    // Guarda las posiciones iniciales
    const icons = document.querySelectorAll('.icon');
    const originalPositions = [];

    icons.forEach(icon => {
        originalPositions.push({
            element: icon,
            left: icon.style.left,
            top: icon.style.top
        });
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
        // Reproduce el sonido de reinicio
        playSound(resetSound);
        
        originalPositions.forEach(pos => {
            pos.element.style.left = pos.left;
            pos.element.style.top = pos.top;
        });
    });
</script>

</body>
</html>
